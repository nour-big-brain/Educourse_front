<div class="form-container">
  <h2>Add New Course</h2>
  <form (ngSubmit)="addCours()">
    <div class="form-group">
      <label for="titre_cours">Course Title:</label>
      <input
        type="text"
        id="titre_cours"
        [(ngModel)]="cours.titre_cours"
        name="titre_cours"
        class="form-control"
        placeholder="Enter course title"
        required
      />
    </div>
    <div class="form-group">
      <label for="duree_cours">Course Duration (hours):</label>
      <input
        type="number"
        id="duree_cours"
        [(ngModel)]="cours.duree_cours"
        name="duree_cours"
        class="form-control"
        placeholder="Enter course duration"
        required
      />
    </div>
    <div class="form-group">
      <label for="courseImage">Course Image:</label>
      <input
        type="file"
        id="courseImage"
        (change)="onImageSelected($event)"
        class="form-control"
        accept="image/*"
      />
    </div>
    <button type="submit" class="btn btn-primary w-100">Save Course</button>
  </form>
</div>

<hr />

<div class="teacher-courses mt-5">
  <h2>Your Courses</h2>
  <div class="row">
    @for (course of coursList; track course.idCours) {
    <div class="col-md-4 mb-4">
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title">{{ course.titre_cours }}</h5>
          <p class="card-text"><strong>Duration:</strong> {{ course.duree_cours }} hours</p>
          <div class="btn-group d-flex mt-3" role="group">
            <!-- Add Material Button -->
            <button
              class="btn btn-secondary flex-fill"
              (click)="addMaterial(course.idCours)"
            >
              Add Material
            </button>
            <!-- Add Exam Button -->
            <button
              class="btn btn-primary flex-fill"
              (click)="showExamForm(course.idCours)"
            >
              Add Exam
            </button>
          </div>

          <!-- Exam Input Form (Visible Only After Clicking Add Exam) -->
          @if (examFormVisible[course.idCours]) {
          <div class="form-group mt-3">
            <label for="examName-{{ course.idCours }}">Exam Name:</label>
            <input
              type="text"
              id="examName-{{ course.idCours }}"
              name="examName-{{ course.idCours }}"
              class="form-control"
              placeholder="Enter exam name"
            />
            <button
              class="btn btn-success btn-sm mt-2 w-100"
              (click)="addExam(course.idCours)"
            >
              Save Exam
            </button>
          </div>
          }
        </div>
      </div>
    </div>
    }
  </div>
</div>